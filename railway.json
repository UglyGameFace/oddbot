{
  "$schema": "https://railway.app/railway.schema.json",
  "services": [
    {
      "name": "parlay-bot",
      "buildCommand": "npm ci --omit=dev || npm install --omit=dev",
      "startCommand": "npm start",
      "healthcheckPath": "/liveness",
      "healthcheckTimeout": 30,
      "healthcheckInterval": 15,
      "healthcheckRetries": 3,
      "restartPolicyType": "ON_FAILURE",
      "restartPolicyMaxRetries": 5,
      "envVars": {
        "PORT": { "value": "8080" }
      }
    },
    {
      "name": "worker-odds",
      "buildCommand": "npm ci --omit=dev || npm install --omit=dev",
      "startCommand": "npm run worker:odds",
      "restartPolicyType": "ON_FAILURE",
      "restartPolicyMaxRetries": 5
    },
    {
      "name": "worker-notifications",
      "buildCommand": "npm ci --omit=dev || npm install --omit=dev",
      "startCommand": "npm run worker:notifications",
      "restartPolicyType": "ON_FAILURE",
      "restartPolicyMaxRetries": 5
    }
  ],
  "environment": {
    "NODE_ENV": "production",
    "LOG_LEVEL": "info"
  }
}
